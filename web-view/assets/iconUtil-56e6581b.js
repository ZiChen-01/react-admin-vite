import{x as e,r as n,k as t,o,_ as r,y as a,z as d,A as i,aU as s,l as c,G as l,al as p,at as u,t as f,p as v,ao as h,N as y,s as g,aV as k,K,Q as N,aW as m,aX as E,aY as x,aZ as C,aT as D,a_ as b,a$ as S}from"./index-218c74fb.js";import{L as w}from"./List-8b86e5d9.js";function O(e,n){var t=new Set;return e.forEach((function(e){n.has(e)||t.add(e)})),t}function P(e){var n=e||{},t=n.disabled,o=n.disableCheckbox,r=n.checkable;return!(!t&&!o)||!1===r}function L(n,t,o,r){var a,d=[];a=r||P;var i,s=new Set(n.filter((function(e){var n=!!o[e];return n||d.push(e),n}))),c=new Map,l=0;return Object.keys(o).forEach((function(e){var n=o[e],t=n.level,r=c.get(t);r||(r=new Set,c.set(t,r)),r.add(n),l=Math.max(l,t)})),e(!d.length,"Tree missing follow keys: ".concat(d.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),i=!0===t?function(e,n,t,o){for(var r=new Set(e),a=new Set,d=0;d<=t;d+=1)(n.get(d)||new Set).forEach((function(e){var n=e.key,t=e.node,a=e.children,d=void 0===a?[]:a;r.has(n)&&!o(t)&&d.filter((function(e){return!o(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var i=new Set,s=t;s>=0;s-=1)(n.get(s)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!o(t)&&e.parent&&!i.has(e.parent.key))if(o(e.parent.node))i.add(n.key);else{var d=!0,s=!1;(n.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var n=e.key,t=r.has(n);d&&!t&&(d=!1),s||!t&&!a.has(n)||(s=!0)})),d&&r.add(n.key),s&&a.add(n.key),i.add(n.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(O(a,r))}}(s,c,l,a):function(e,n,t,o,r){for(var a=new Set(e),d=new Set(n),i=0;i<=o;i+=1)(t.get(i)||new Set).forEach((function(e){var n=e.key,t=e.node,o=e.children,i=void 0===o?[]:o;a.has(n)||d.has(n)||r(t)||i.filter((function(e){return!r(e.node)})).forEach((function(e){a.delete(e.key)}))}));d=new Set;for(var s=new Set,c=o;c>=0;c-=1)(t.get(c)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!r(t)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(n.key);else{var o=!0,i=!1;(n.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var n=e.key,t=a.has(n);o&&!t&&(o=!1),i||!t&&!d.has(n)||(i=!0)})),o||a.delete(n.key),i&&d.add(n.key),s.add(n.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(O(d,a))}}(s,t.halfCheckedKeys,c,l,a),i}var T=n.createContext(null),M=function(e){for(var r=e.prefixCls,a=e.level,d=e.isStart,i=e.isEnd,s="".concat(r,"-indent-unit"),c=[],l=0;l<a;l+=1){var p;c.push(n.createElement("span",{key:l,className:t(s,(p={},o(p,"".concat(s,"-start"),d[l]),o(p,"".concat(s,"-end"),i[l]),p))}))}return n.createElement("span",{"aria-hidden":"true",className:"".concat(r,"-indent")},c)};const A=n.memo(M);var I=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],R="open",H="close",U=function(e){a(v,e);var f=d(v);function v(){var e;i(this,v);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=f.call.apply(f,[this].concat(r))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(n){(0,e.props.context.onNodeClick)(n,oe(e.props)),e.isSelectable()?e.onSelect(n):e.onCheck(n)},e.onSelectorDoubleClick=function(n){(0,e.props.context.onNodeDoubleClick)(n,oe(e.props))},e.onSelect=function(n){if(!e.isDisabled()){var t=e.props.context.onNodeSelect;n.preventDefault(),t(n,oe(e.props))}},e.onCheck=function(n){if(!e.isDisabled()){var t=e.props,o=t.disableCheckbox,r=t.checked,a=e.props.context.onNodeCheck;if(e.isCheckable()&&!o){n.preventDefault();var d=!r;a(n,oe(e.props),d)}}},e.onMouseEnter=function(n){(0,e.props.context.onNodeMouseEnter)(n,oe(e.props))},e.onMouseLeave=function(n){(0,e.props.context.onNodeMouseLeave)(n,oe(e.props))},e.onContextMenu=function(n){(0,e.props.context.onNodeContextMenu)(n,oe(e.props))},e.onDragStart=function(n){var t=e.props.context.onNodeDragStart;n.stopPropagation(),e.setState({dragNodeHighlight:!0}),t(n,s(e));try{n.dataTransfer.setData("text/plain","")}catch(o){}},e.onDragEnter=function(n){var t=e.props.context.onNodeDragEnter;n.preventDefault(),n.stopPropagation(),t(n,s(e))},e.onDragOver=function(n){var t=e.props.context.onNodeDragOver;n.preventDefault(),n.stopPropagation(),t(n,s(e))},e.onDragLeave=function(n){var t=e.props.context.onNodeDragLeave;n.stopPropagation(),t(n,s(e))},e.onDragEnd=function(n){var t=e.props.context.onNodeDragEnd;n.stopPropagation(),e.setState({dragNodeHighlight:!1}),t(n,s(e))},e.onDrop=function(n){var t=e.props.context.onNodeDrop;n.preventDefault(),n.stopPropagation(),e.setState({dragNodeHighlight:!1}),t(n,s(e))},e.onExpand=function(n){var t=e.props,o=t.loading,r=t.context.onNodeExpand;o||r(n,oe(e.props))},e.setSelectHandle=function(n){e.selectHandle=n},e.getNodeState=function(){var n=e.props.expanded;return e.isLeaf()?null:n?R:H},e.hasChildren=function(){var n=e.props.eventKey;return!!((e.props.context.keyEntities[n]||{}).children||[]).length},e.isLeaf=function(){var n=e.props,t=n.isLeaf,o=n.loaded,r=e.props.context.loadData,a=e.hasChildren();return!1!==t&&(t||!r&&!a||r&&o&&!a)},e.isDisabled=function(){var n=e.props.disabled;return!(!e.props.context.disabled&&!n)},e.isCheckable=function(){var n=e.props.checkable,t=e.props.context.checkable;return!(!t||!1===n)&&t},e.syncLoadData=function(n){var t=n.expanded,o=n.loading,r=n.loaded,a=e.props.context,d=a.loadData,i=a.onNodeLoad;o||d&&t&&!e.isLeaf()&&(e.hasChildren()||r||i(oe(e.props)))},e.isDraggable=function(){var n=e.props,t=n.data,o=n.context.draggable;return!(!o||o.nodeDraggable&&!o.nodeDraggable(t))},e.renderDragHandler=function(){var t=e.props.context,o=t.draggable,r=t.prefixCls;return(null==o?void 0:o.icon)?n.createElement("span",{className:"".concat(r,"-draggable-icon")},o.icon):null},e.renderSwitcherIconDom=function(n){var t=e.props.switcherIcon,o=e.props.context.switcherIcon,r=t||o;return"function"==typeof r?r(c(c({},e.props),{},{isLeaf:n})):r},e.renderSwitcher=function(){var o=e.props.expanded,r=e.props.context.prefixCls;if(e.isLeaf()){var a=e.renderSwitcherIconDom(!0);return!1!==a?n.createElement("span",{className:t("".concat(r,"-switcher"),"".concat(r,"-switcher-noop"))},a):null}var d=t("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(o?R:H)),i=e.renderSwitcherIconDom(!1);return!1!==i?n.createElement("span",{onClick:e.onExpand,className:d},i):null},e.renderCheckbox=function(){var o=e.props,r=o.checked,a=o.halfChecked,d=o.disableCheckbox,i=e.props.context.prefixCls,s=e.isDisabled(),c=e.isCheckable();if(!c)return null;var l="boolean"!=typeof c?c:null;return n.createElement("span",{className:t("".concat(i,"-checkbox"),r&&"".concat(i,"-checkbox-checked"),!r&&a&&"".concat(i,"-checkbox-indeterminate"),(s||d)&&"".concat(i,"-checkbox-disabled")),onClick:e.onCheck},l)},e.renderIcon=function(){var o=e.props.loading,r=e.props.context.prefixCls;return n.createElement("span",{className:t("".concat(r,"-iconEle"),"".concat(r,"-icon__").concat(e.getNodeState()||"docu"),o&&"".concat(r,"-icon_loading"))})},e.renderSelector=function(){var o,r,a=e.state.dragNodeHighlight,d=e.props,i=d.title,s=void 0===i?"---":i,c=d.selected,l=d.icon,p=d.loading,u=d.data,f=e.props.context,v=f.prefixCls,h=f.showIcon,y=f.icon,g=f.loadData,k=f.titleRender,K=e.isDisabled(),N="".concat(v,"-node-content-wrapper");if(h){var m=l||y;o=m?n.createElement("span",{className:t("".concat(v,"-iconEle"),"".concat(v,"-icon__customize"))},"function"==typeof m?m(e.props):m):e.renderIcon()}else g&&p&&(o=e.renderIcon());r="function"==typeof s?s(u):k?k(u):s;var E=n.createElement("span",{className:"".concat(v,"-title")},r);return n.createElement("span",{ref:e.setSelectHandle,title:"string"==typeof s?s:"",className:t("".concat(N),"".concat(N,"-").concat(e.getNodeState()||"normal"),!K&&(c||a)&&"".concat(v,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},o,E,e.renderDropIndicator())},e.renderDropIndicator=function(){var n=e.props,t=n.disabled,o=n.eventKey,r=e.props.context,a=r.draggable,d=r.dropLevelOffset,i=r.dropPosition,s=r.prefixCls,c=r.indent,l=r.dropIndicatorRender,p=r.dragOverNodeKey,u=r.direction;return!t&&!!a&&p===o?l({dropPosition:i,dropLevelOffset:d,indent:c,prefixCls:s,direction:u}):null},e}return l(v,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,n=this.props.context.selectable;return"boolean"==typeof e?e:n}},{key:"render",value:function(){var e,a=this.props,d=a.eventKey,i=a.className,s=a.style,c=a.dragOver,l=a.dragOverGapTop,f=a.dragOverGapBottom,v=a.isLeaf,h=a.isStart,y=a.isEnd,g=a.expanded,k=a.selected,K=a.checked,N=a.halfChecked,m=a.loading,E=a.domRef,x=a.active;a.data;var C=a.onMouseMove,D=a.selectable,b=p(a,I),S=this.props.context,w=S.prefixCls,O=S.filterTreeNode,P=S.keyEntities,L=S.dropContainerKey,T=S.dropTargetKey,M=S.draggingNodeKey,R=this.isDisabled(),H=u(b,{aria:!0,data:!0}),U=(P[d]||{}).level,G=y[y.length-1],F=this.isDraggable(),_=!R&&F,j=M===d,B=void 0!==D?{"aria-selected":!!D}:void 0;return n.createElement("div",r({ref:E,className:t(i,"".concat(w,"-treenode"),(e={},o(e,"".concat(w,"-treenode-disabled"),R),o(e,"".concat(w,"-treenode-switcher-").concat(g?"open":"close"),!v),o(e,"".concat(w,"-treenode-checkbox-checked"),K),o(e,"".concat(w,"-treenode-checkbox-indeterminate"),N),o(e,"".concat(w,"-treenode-selected"),k),o(e,"".concat(w,"-treenode-loading"),m),o(e,"".concat(w,"-treenode-active"),x),o(e,"".concat(w,"-treenode-leaf-last"),G),o(e,"".concat(w,"-treenode-draggable"),F),o(e,"dragging",j),o(e,"drop-target",T===d),o(e,"drop-container",L===d),o(e,"drag-over",!R&&c),o(e,"drag-over-gap-top",!R&&l),o(e,"drag-over-gap-bottom",!R&&f),o(e,"filter-node",O&&O(oe(this.props))),e)),style:s,draggable:_,"aria-grabbed":j,onDragStart:_?this.onDragStart:void 0,onDragEnter:F?this.onDragEnter:void 0,onDragOver:F?this.onDragOver:void 0,onDragLeave:F?this.onDragLeave:void 0,onDrop:F?this.onDrop:void 0,onDragEnd:F?this.onDragEnd:void 0,onMouseMove:C},B,H),n.createElement(A,{prefixCls:w,level:U,isStart:h,isEnd:y}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),v}(n.Component),G=function(e){return n.createElement(T.Consumer,null,(function(t){return n.createElement(U,r({},e,{context:t}))}))};function F(e,n){if(!e)return[];var t=e.slice(),o=t.indexOf(n);return o>=0&&t.splice(o,1),t}function _(e,n){var t=(e||[]).slice();return-1===t.indexOf(n)&&t.push(n),t}function j(e){return e.split("-")}function B(e,n){return"".concat(e,"-").concat(n)}function W(e,n){var t=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var o=n.key,r=n.children;t.push(o),e(r)}))}(n[e].children),t}function q(e){if(e.parent){var n=j(e.pos);return Number(n[n.length-1])===e.parent.children.length-1}return!1}function X(e,n,t,o,r,a,d,i,s,c){var l,p=e.clientX,u=e.clientY,f=e.target.getBoundingClientRect(),v=f.top,h=f.height,y=(("rtl"===c?-1:1)*(((null==r?void 0:r.x)||0)-p)-12)/o,g=i[t.props.eventKey];if(u<v+h/2){var k=d.findIndex((function(e){return e.key===g.key})),K=d[k<=0?0:k-1].key;g=i[K]}var N=g.key,m=g,E=g.key,x=0,C=0;if(!s.includes(N))for(var D=0;D<y&&q(g);D+=1)g=g.parent,C+=1;var b,S=n.props.data,w=g.node,O=!0;return b=j(g.pos),0===Number(b[b.length-1])&&0===g.level&&u<v+h/2&&a({dragNode:S,dropNode:w,dropPosition:-1})&&g.key===t.props.eventKey?x=-1:(m.children||[]).length&&s.includes(E)?a({dragNode:S,dropNode:w,dropPosition:0})?x=0:O=!1:0===C?y>-1.5?a({dragNode:S,dropNode:w,dropPosition:1})?x=1:O=!1:a({dragNode:S,dropNode:w,dropPosition:0})?x=0:a({dragNode:S,dropNode:w,dropPosition:1})?x=1:O=!1:a({dragNode:S,dropNode:w,dropPosition:1})?x=1:O=!1,{dropPosition:x,dropLevelOffset:C,dropTargetKey:g.key,dropTargetPos:g.pos,dragOverNodeKey:E,dropContainerKey:0===x?null:(null===(l=g.parent)||void 0===l?void 0:l.key)||null,dropAllowed:O}}function Y(e,n){if(e)return n.multiple?e.slice():e.length?[e[0]]:e}function z(n){if(!n)return null;var t;if(Array.isArray(n))t={checkedKeys:n,halfCheckedKeys:void 0};else{if("object"!==f(n))return e(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0}}return t}function V(e,n){var t=new Set;function o(e){if(!t.has(e)){var r=n[e];if(r){t.add(e);var a=r.parent;r.node.disabled||a&&o(a.key)}}}return(e||[]).forEach((function(e){o(e)})),v(t)}G.displayName="TreeNode",G.isTreeNode=1;var Q=["children"];function Z(e,n){return null!=e?e:n}function $(e){var n=e||{},t=n.title||"title";return{title:t,_title:n._title||[t],key:n.key||"key",children:n.children||"children"}}function J(n){return function n(t){return h(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return e(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var o=t.key,r=t.props,a=r.children,d=p(r,Q),i=c({key:o},d),s=n(a);return s.length&&(i.children=s),i})).filter((function(e){return e}))}(n)}function ee(e,n,t){var o=$(t),r=o._title,a=o.key,d=o.children,i=new Set(!0===n?[]:n),s=[];return function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.map((function(l,p){for(var u,f=B(o?o.pos:"0",p),h=Z(l[a],f),g=0;g<r.length;g+=1){var k=r[g];if(void 0!==l[k]){u=l[k];break}}var K=c(c({},y(l,[].concat(v(r),[a,d]))),{},{title:u,key:h,parent:o,pos:f,children:null,data:l,isStart:[].concat(v(o?o.isStart:[]),[0===p]),isEnd:[].concat(v(o?o.isEnd:[]),[p===t.length-1])});return s.push(K),!0===n||i.has(h)?K.children=e(l[d]||[],K):K.children=[],K}))}(e),s}function ne(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.initWrapper,o=n.processEntity,r=n.onProcessFinished,a=n.externalGetKey,d=n.childrenPropName,i=n.fieldNames,s=a||(arguments.length>2?arguments[2]:void 0),c={},l={},p={posEntities:c,keyEntities:l};return t&&(p=t(p)||p),function(e,n,t){var o,r=("object"===f(t)?t:{externalGetKey:t})||{},a=r.childrenPropName,d=r.externalGetKey,i=$(r.fieldNames),s=i.key,c=i.children,l=a||c;d?"string"==typeof d?o=function(e){return e[d]}:"function"==typeof d&&(o=function(e){return d(e)}):o=function(e,n){return Z(e[s],n)},function t(r,a,d,i){var s=r?r[l]:e,c=r?B(d.pos,a):"0",p=r?[].concat(v(i),[r]):[];if(r){var u=o(r,c),f={node:r,index:a,pos:c,key:u,parentPos:d.node?d.pos:null,level:d.level+1,nodes:p};n(f)}s&&s.forEach((function(e,n){t(e,n,{node:r,pos:c,level:d?d.level+1:-1},p)}))}(null)}(e,(function(e){var n=e.node,t=e.index,r=e.pos,a=e.key,d=e.parentPos,i=e.level,s={node:n,nodes:e.nodes,index:t,key:a,pos:r,level:i},u=Z(a,r);c[r]=s,l[u]=s,s.parent=c[d],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),o&&o(s,p)}),{externalGetKey:s,childrenPropName:d,fieldNames:i}),r&&r(p),p}function te(e,n){var t=n.expandedKeys,o=n.selectedKeys,r=n.loadedKeys,a=n.loadingKeys,d=n.checkedKeys,i=n.halfCheckedKeys,s=n.dragOverNodeKey,c=n.dropPosition,l=n.keyEntities[e];return{eventKey:e,expanded:-1!==t.indexOf(e),selected:-1!==o.indexOf(e),loaded:-1!==r.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==d.indexOf(e),halfChecked:-1!==i.indexOf(e),pos:String(l?l.pos:""),dragOver:s===e&&0===c,dragOverGapTop:s===e&&-1===c,dragOverGapBottom:s===e&&1===c}}function oe(n){var t=n.data,o=n.expanded,r=n.selected,a=n.checked,d=n.loaded,i=n.loading,s=n.halfChecked,l=n.dragOver,p=n.dragOverGapTop,u=n.dragOverGapBottom,f=n.pos,v=n.active,h=n.eventKey,y=c(c({},t),{},{expanded:o,selected:r,checked:a,loaded:d,loading:i,halfChecked:s,dragOver:l,dragOverGapTop:p,dragOverGapBottom:u,pos:f,active:v,key:h});return"props"in y||Object.defineProperty(y,"props",{get:function(){return e(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),y}function re(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var ae=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],de=function(e,o){var a=e.className,d=e.style,i=e.motion,s=e.motionNodes,c=e.motionType,l=e.onMotionStart,u=e.onMotionEnd,f=e.active,v=e.treeNodeRequiredProps,h=p(e,ae),y=n.useState(!0),K=g(y,2),N=K[0],m=K[1],E=n.useContext(T).prefixCls,x=n.useRef(!1),C=function(){x.current||u(),x.current=!0};return n.useEffect((function(){s&&"hide"===c&&N&&m(!1)}),[s]),n.useEffect((function(){return s&&l(),function(){s&&C()}}),[]),s?n.createElement(k,r({ref:o,visible:N},i,{motionAppear:"show"===c,onAppearEnd:C,onLeaveEnd:C}),(function(e,o){var a=e.className,d=e.style;return n.createElement("div",{ref:o,className:t("".concat(E,"-treenode-motion"),a),style:d},s.map((function(e){var t=r({},(re(e.data),e.data)),o=e.title,a=e.key,d=e.isStart,i=e.isEnd;delete t.children;var s=te(a,v);return n.createElement(G,r({},t,s,{title:o,active:f,data:e.data,key:a,isStart:d,isEnd:i}))})))})):n.createElement(G,r({domRef:o,className:a,style:d},h,{active:f}))};de.displayName="MotionTreeNode";var ie=n.forwardRef(de);function se(e,n,t){var o=e.findIndex((function(e){return e.key===t})),r=e[o+1],a=n.findIndex((function(e){return e.key===t}));if(r){var d=n.findIndex((function(e){return e.key===r.key}));return n.slice(a+1,d)}return n.slice(a+1)}var ce=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],le={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},pe=function(){},ue="RC_TREE_MOTION_".concat(Math.random()),fe={key:ue},ve={key:ue,level:0,index:0,pos:"0",node:fe,nodes:[fe]},he={parent:null,children:[],pos:ve.pos,data:fe,title:null,key:ue,isStart:[],isEnd:[]};function ye(e,n,t,o){return!1!==n&&t?e.slice(0,Math.ceil(t/o)+1):e}function ge(e){return Z(e.key,e.pos)}var ke=n.forwardRef((function(e,t){var o=e.prefixCls,a=e.data;e.selectable,e.checkable;var d=e.expandedKeys,i=e.selectedKeys,s=e.checkedKeys,c=e.loadedKeys,l=e.loadingKeys,u=e.halfCheckedKeys,f=e.keyEntities,v=e.disabled,h=e.dragging,y=e.dragOverNodeKey,k=e.dropPosition,K=e.motion,N=e.height,m=e.itemHeight,E=e.virtual,x=e.focusable,C=e.activeItem,D=e.focused,b=e.tabIndex,S=e.onKeyDown,O=e.onFocus,P=e.onBlur,L=e.onActiveChange,T=e.onListChangeStart,M=e.onListChangeEnd,A=p(e,ce),I=n.useRef(null),R=n.useRef(null);n.useImperativeHandle(t,(function(){return{scrollTo:function(e){I.current.scrollTo(e)},getIndentWidth:function(){return R.current.offsetWidth}}}));var H=n.useState(d),U=g(H,2),G=U[0],F=U[1],_=n.useState(a),j=g(_,2),B=j[0],W=j[1],q=n.useState(a),X=g(q,2),Y=X[0],z=X[1],V=n.useState([]),Q=g(V,2),$=Q[0],J=Q[1],ee=n.useState(null),ne=g(ee,2),oe=ne[0],ae=ne[1],de=n.useRef(a);function fe(){var e=de.current;W(e),z(e),J([]),ae(null),M()}de.current=a,n.useEffect((function(){F(d);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.length,o=n.length;if(1!==Math.abs(t-o))return{add:!1,key:null};function r(e,n){var t=new Map;e.forEach((function(e){t.set(e,!0)}));var o=n.filter((function(e){return!t.has(e)}));return 1===o.length?o[0]:null}return t<o?{add:!0,key:r(e,n)}:{add:!1,key:r(n,e)}}(G,d);if(null!==e.key)if(e.add){var n=B.findIndex((function(n){return n.key===e.key})),t=ye(se(B,a,e.key),E,N,m),o=B.slice();o.splice(n+1,0,he),z(o),J(t),ae("show")}else{var r=a.findIndex((function(n){return n.key===e.key})),i=ye(se(a,B,e.key),E,N,m),s=a.slice();s.splice(r+1,0,he),z(s),J(i),ae("hide")}else B!==a&&(W(a),z(a))}),[d,a]),n.useEffect((function(){h||fe()}),[h]);var ve=K?Y:a,ke={expandedKeys:d,selectedKeys:i,loadedKeys:c,loadingKeys:l,checkedKeys:s,halfCheckedKeys:u,dragOverNodeKey:y,dropPosition:k,keyEntities:f};return n.createElement(n.Fragment,null,D&&C&&n.createElement("span",{style:le,"aria-live":"assertive"},function(e){for(var n=String(e.data.key),t=e;t.parent;)t=t.parent,n="".concat(t.data.key," > ").concat(n);return n}(C)),n.createElement("div",null,n.createElement("input",{style:le,disabled:!1===x||v,tabIndex:!1!==x?b:null,onKeyDown:S,onFocus:O,onBlur:P,value:"",onChange:pe,"aria-label":"for screen reader"})),n.createElement("div",{className:"".concat(o,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},n.createElement("div",{className:"".concat(o,"-indent")},n.createElement("div",{ref:R,className:"".concat(o,"-indent-unit")}))),n.createElement(w,r({},A,{data:ve,itemKey:ge,height:N,fullHeight:!1,virtual:E,itemHeight:m,prefixCls:"".concat(o,"-list"),ref:I,onVisibleChange:function(e,n){var t=new Set(e);n.filter((function(e){return!t.has(e)})).some((function(e){return ge(e)===ue}))&&fe()}}),(function(e){var t=e.pos,o=r({},(re(e.data),e.data)),a=e.title,d=e.key,i=e.isStart,s=e.isEnd,c=Z(d,t);delete o.key,delete o.children;var l=te(c,ke);return n.createElement(ie,r({},o,l,{title:a,active:!!C&&d===C.key,pos:t,data:e.data,isStart:i,isEnd:s,motion:K,motionNodes:d===ue?$:null,motionType:oe,onMotionStart:T,onMotionEnd:fe,treeNodeRequiredProps:ke,onMouseMove:function(){L(null)}}))})))}));ke.displayName="NodeList";var Ke=function(p){a(y,p);var h=d(y);function y(){var t;i(this,y);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(t=h.call.apply(h,[this].concat(r))).destroyed=!1,t.delayedDragEnterLogic=void 0,t.loadingRetryTimes={},t.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:$()},t.dragStartMousePosition=null,t.dragNode=void 0,t.currentMouseOverDroppableNodeKey=null,t.listRef=n.createRef(),t.onNodeDragStart=function(e,n){var o=t.state,r=o.expandedKeys,a=o.keyEntities,d=t.props.onDragStart,i=n.props.eventKey;t.dragNode=n,t.dragStartMousePosition={x:e.clientX,y:e.clientY};var s=F(r,i);t.setState({draggingNodeKey:i,dragChildrenKeys:W(i,a),indent:t.listRef.current.getIndentWidth()}),t.setExpandedKeys(s),window.addEventListener("dragend",t.onWindowDragEnd),null==d||d({event:e,node:oe(n.props)})},t.onNodeDragEnter=function(e,n){var o=t.state,r=o.expandedKeys,a=o.keyEntities,d=o.dragChildrenKeys,i=o.flattenNodes,c=o.indent,l=t.props,p=l.onDragEnter,u=l.onExpand,f=l.allowDrop,h=l.direction,y=n.props,g=y.pos,k=y.eventKey,K=s(t).dragNode;if(t.currentMouseOverDroppableNodeKey!==k&&(t.currentMouseOverDroppableNodeKey=k),K){var N=X(e,K,n,c,t.dragStartMousePosition,f,i,a,r,h),m=N.dropPosition,E=N.dropLevelOffset,x=N.dropTargetKey,C=N.dropContainerKey,D=N.dropTargetPos,b=N.dropAllowed,S=N.dragOverNodeKey;-1===d.indexOf(x)&&b?(t.delayedDragEnterLogic||(t.delayedDragEnterLogic={}),Object.keys(t.delayedDragEnterLogic).forEach((function(e){clearTimeout(t.delayedDragEnterLogic[e])})),K.props.eventKey!==n.props.eventKey&&(e.persist(),t.delayedDragEnterLogic[g]=window.setTimeout((function(){if(null!==t.state.draggingNodeKey){var o=v(r),d=a[n.props.eventKey];d&&(d.children||[]).length&&(o=_(r,n.props.eventKey)),"expandedKeys"in t.props||t.setExpandedKeys(o),null==u||u(o,{node:oe(n.props),expanded:!0,nativeEvent:e.nativeEvent})}}),800)),K.props.eventKey!==x||0!==E?(t.setState({dragOverNodeKey:S,dropPosition:m,dropLevelOffset:E,dropTargetKey:x,dropContainerKey:C,dropTargetPos:D,dropAllowed:b}),null==p||p({event:e,node:oe(n.props),expandedKeys:r})):t.resetDragState()):t.resetDragState()}else t.resetDragState()},t.onNodeDragOver=function(e,n){var o=t.state,r=o.dragChildrenKeys,a=o.flattenNodes,d=o.keyEntities,i=o.expandedKeys,c=o.indent,l=t.props,p=l.onDragOver,u=l.allowDrop,f=l.direction,v=s(t).dragNode;if(v){var h=X(e,v,n,c,t.dragStartMousePosition,u,a,d,i,f),y=h.dropPosition,g=h.dropLevelOffset,k=h.dropTargetKey,K=h.dropContainerKey,N=h.dropAllowed,m=h.dropTargetPos,E=h.dragOverNodeKey;-1===r.indexOf(k)&&N&&(v.props.eventKey===k&&0===g?null===t.state.dropPosition&&null===t.state.dropLevelOffset&&null===t.state.dropTargetKey&&null===t.state.dropContainerKey&&null===t.state.dropTargetPos&&!1===t.state.dropAllowed&&null===t.state.dragOverNodeKey||t.resetDragState():y===t.state.dropPosition&&g===t.state.dropLevelOffset&&k===t.state.dropTargetKey&&K===t.state.dropContainerKey&&m===t.state.dropTargetPos&&N===t.state.dropAllowed&&E===t.state.dragOverNodeKey||t.setState({dropPosition:y,dropLevelOffset:g,dropTargetKey:k,dropContainerKey:K,dropTargetPos:m,dropAllowed:N,dragOverNodeKey:E}),null==p||p({event:e,node:oe(n.props)}))}},t.onNodeDragLeave=function(e,n){t.currentMouseOverDroppableNodeKey!==n.props.eventKey||e.currentTarget.contains(e.relatedTarget)||(t.resetDragState(),t.currentMouseOverDroppableNodeKey=null);var o=t.props.onDragLeave;null==o||o({event:e,node:oe(n.props)})},t.onWindowDragEnd=function(e){t.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",t.onWindowDragEnd)},t.onNodeDragEnd=function(e,n){var o=t.props.onDragEnd;t.setState({dragOverNodeKey:null}),t.cleanDragState(),null==o||o({event:e,node:oe(n.props)}),t.dragNode=null,window.removeEventListener("dragend",t.onWindowDragEnd)},t.onNodeDrop=function(n,o){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=t.state,i=d.dragChildrenKeys,s=d.dropPosition,l=d.dropTargetKey,p=d.dropTargetPos;if(d.dropAllowed){var u=t.props.onDrop;if(t.setState({dragOverNodeKey:null}),t.cleanDragState(),null!==l){var f=c(c({},te(l,t.getTreeNodeRequiredProps())),{},{active:(null===(r=t.getActiveItem())||void 0===r?void 0:r.key)===l,data:t.state.keyEntities[l].node}),v=-1!==i.indexOf(l);e(!v,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var h=j(p),y={event:n,node:oe(f),dragNode:t.dragNode?oe(t.dragNode.props):null,dragNodesKeys:[t.dragNode.props.eventKey].concat(i),dropToGap:0!==s,dropPosition:s+Number(h[h.length-1])};a||null==u||u(y),t.dragNode=null}}},t.cleanDragState=function(){null!==t.state.draggingNodeKey&&t.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),t.dragStartMousePosition=null,t.currentMouseOverDroppableNodeKey=null},t.triggerExpandActionExpand=function(e,n){var o=t.state,r=o.expandedKeys,a=o.flattenNodes,d=n.expanded,i=n.key;if(!(n.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey)){var s=a.filter((function(e){return e.key===i}))[0],l=oe(c(c({},te(i,t.getTreeNodeRequiredProps())),{},{data:s.data}));t.setExpandedKeys(d?F(r,i):_(r,i)),t.onNodeExpand(e,l)}},t.onNodeClick=function(e,n){var o=t.props,r=o.onClick;"click"===o.expandAction&&t.triggerExpandActionExpand(e,n),null==r||r(e,n)},t.onNodeDoubleClick=function(e,n){var o=t.props,r=o.onDoubleClick;"doubleClick"===o.expandAction&&t.triggerExpandActionExpand(e,n),null==r||r(e,n)},t.onNodeSelect=function(e,n){var o=t.state.selectedKeys,r=t.state,a=r.keyEntities,d=r.fieldNames,i=t.props,s=i.onSelect,c=i.multiple,l=n.selected,p=n[d.key],u=!l,f=(o=u?c?_(o,p):[p]:F(o,p)).map((function(e){var n=a[e];return n?n.node:null})).filter((function(e){return e}));t.setUncontrolledState({selectedKeys:o}),null==s||s(o,{event:"select",selected:u,node:n,selectedNodes:f,nativeEvent:e.nativeEvent})},t.onNodeCheck=function(e,n,o){var r,a=t.state,d=a.keyEntities,i=a.checkedKeys,s=a.halfCheckedKeys,c=t.props,l=c.checkStrictly,p=c.onCheck,u=n.key,f={event:"check",node:n,checked:o,nativeEvent:e.nativeEvent};if(l){var h=o?_(i,u):F(i,u);r={checked:h,halfChecked:F(s,u)},f.checkedNodes=h.map((function(e){return d[e]})).filter((function(e){return e})).map((function(e){return e.node})),t.setUncontrolledState({checkedKeys:h})}else{var y=L([].concat(v(i),[u]),!0,d),g=y.checkedKeys,k=y.halfCheckedKeys;if(!o){var K=new Set(g);K.delete(u);var N=L(Array.from(K),{checked:!1,halfCheckedKeys:k},d);g=N.checkedKeys,k=N.halfCheckedKeys}r=g,f.checkedNodes=[],f.checkedNodesPositions=[],f.halfCheckedKeys=k,g.forEach((function(e){var n=d[e];if(n){var t=n.node,o=n.pos;f.checkedNodes.push(t),f.checkedNodesPositions.push({node:t,pos:o})}})),t.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:k})}null==p||p(r,f)},t.onNodeLoad=function(n){var o=n.key,r=new Promise((function(r,a){t.setState((function(d){var i=d.loadedKeys,s=void 0===i?[]:i,c=d.loadingKeys,l=void 0===c?[]:c,p=t.props,u=p.loadData,f=p.onLoad;return u&&-1===s.indexOf(o)&&-1===l.indexOf(o)?(u(n).then((function(){var e=_(t.state.loadedKeys,o);null==f||f(e,{event:"load",node:n}),t.setUncontrolledState({loadedKeys:e}),t.setState((function(e){return{loadingKeys:F(e.loadingKeys,o)}})),r()})).catch((function(n){if(t.setState((function(e){return{loadingKeys:F(e.loadingKeys,o)}})),t.loadingRetryTimes[o]=(t.loadingRetryTimes[o]||0)+1,t.loadingRetryTimes[o]>=10){var d=t.state.loadedKeys;e(!1,"Retry for `loadData` many times but still failed. No more retry."),t.setUncontrolledState({loadedKeys:_(d,o)}),r()}a(n)})),{loadingKeys:_(l,o)}):null}))}));return r.catch((function(){})),r},t.onNodeMouseEnter=function(e,n){var o=t.props.onMouseEnter;null==o||o({event:e,node:n})},t.onNodeMouseLeave=function(e,n){var o=t.props.onMouseLeave;null==o||o({event:e,node:n})},t.onNodeContextMenu=function(e,n){var o=t.props.onRightClick;o&&(e.preventDefault(),o({event:e,node:n}))},t.onFocus=function(){var e=t.props.onFocus;t.setState({focused:!0});for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null==e||e.apply(void 0,o)},t.onBlur=function(){var e=t.props.onBlur;t.setState({focused:!1}),t.onActiveChange(null);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null==e||e.apply(void 0,o)},t.getTreeNodeRequiredProps=function(){var e=t.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}},t.setExpandedKeys=function(e){var n=t.state,o=ee(n.treeData,e,n.fieldNames);t.setUncontrolledState({expandedKeys:e,flattenNodes:o},!0)},t.onNodeExpand=function(n,o){var r=t.state.expandedKeys,a=t.state,d=a.listChanging,i=a.fieldNames,s=t.props,c=s.onExpand,l=s.loadData,p=o.expanded,u=o[i.key];if(!d){var f=r.indexOf(u),v=!p;if(e(p&&-1!==f||!p&&-1===f,"Expand state not sync with index check"),r=v?_(r,u):F(r,u),t.setExpandedKeys(r),null==c||c(r,{node:o,expanded:v,nativeEvent:n.nativeEvent}),v&&l){var h=t.onNodeLoad(o);h&&h.then((function(){var e=ee(t.state.treeData,r,i);t.setUncontrolledState({flattenNodes:e})})).catch((function(){var e=F(t.state.expandedKeys,u);t.setExpandedKeys(e)}))}}},t.onListChangeStart=function(){t.setUncontrolledState({listChanging:!0})},t.onListChangeEnd=function(){setTimeout((function(){t.setUncontrolledState({listChanging:!1})}))},t.onActiveChange=function(e){var n=t.state.activeKey,o=t.props.onActiveChange;n!==e&&(t.setState({activeKey:e}),null!==e&&t.scrollTo({key:e}),null==o||o(e))},t.getActiveItem=function(){var e=t.state,n=e.activeKey,o=e.flattenNodes;return null===n?null:o.find((function(e){return e.key===n}))||null},t.offsetActiveKey=function(e){var n=t.state,o=n.flattenNodes,r=n.activeKey,a=o.findIndex((function(e){return e.key===r}));-1===a&&e<0&&(a=o.length);var d=o[a=(a+e+o.length)%o.length];if(d){var i=d.key;t.onActiveChange(i)}else t.onActiveChange(null)},t.onKeyDown=function(e){var n=t.state,o=n.activeKey,r=n.expandedKeys,a=n.checkedKeys,d=n.fieldNames,i=t.props,s=i.onKeyDown,l=i.checkable,p=i.selectable;switch(e.which){case K.UP:t.offsetActiveKey(-1),e.preventDefault();break;case K.DOWN:t.offsetActiveKey(1),e.preventDefault()}var u=t.getActiveItem();if(u&&u.data){var f=t.getTreeNodeRequiredProps(),v=!1===u.data.isLeaf||!!(u.data[d.children]||[]).length,h=oe(c(c({},te(o,f)),{},{data:u.data,active:!0}));switch(e.which){case K.LEFT:v&&r.includes(o)?t.onNodeExpand({},h):u.parent&&t.onActiveChange(u.parent.key),e.preventDefault();break;case K.RIGHT:v&&!r.includes(o)?t.onNodeExpand({},h):u.children&&u.children.length&&t.onActiveChange(u.children[0].key),e.preventDefault();break;case K.ENTER:case K.SPACE:!l||h.disabled||!1===h.checkable||h.disableCheckbox?l||!p||h.disabled||!1===h.selectable||t.onNodeSelect({},h):t.onNodeCheck({},h,!a.includes(o))}}null==s||s(e)},t.setUncontrolledState=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.destroyed){var r=!1,a=!0,d={};Object.keys(e).forEach((function(n){n in t.props?a=!1:(r=!0,d[n]=e[n])})),!r||n&&!a||t.setState(c(c({},d),o))}},t.scrollTo=function(e){t.listRef.current.scrollTo(e)},t}return l(y,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,a,d=this.state,i=d.focused,s=d.flattenNodes,c=d.keyEntities,l=d.draggingNodeKey,p=d.activeKey,v=d.dropLevelOffset,h=d.dropContainerKey,y=d.dropTargetKey,g=d.dropPosition,k=d.dragOverNodeKey,K=d.indent,N=this.props,m=N.prefixCls,E=N.className,x=N.style,C=N.showLine,D=N.focusable,b=N.tabIndex,S=void 0===b?0:b,w=N.selectable,O=N.showIcon,P=N.icon,L=N.switcherIcon,M=N.draggable,A=N.checkable,I=N.checkStrictly,R=N.disabled,H=N.motion,U=N.loadData,G=N.filterTreeNode,F=N.height,_=N.itemHeight,j=N.virtual,B=N.titleRender,W=N.dropIndicatorRender,q=N.onContextMenu,X=N.onScroll,Y=N.direction,z=N.rootClassName,V=N.rootStyle,Q=u(this.props,{aria:!0,data:!0});return M&&(a="object"===f(M)?M:"function"==typeof M?{nodeDraggable:M}:{}),n.createElement(T.Provider,{value:{prefixCls:m,selectable:w,showIcon:O,icon:P,switcherIcon:L,draggable:a,draggingNodeKey:l,checkable:A,checkStrictly:I,disabled:R,keyEntities:c,dropLevelOffset:v,dropContainerKey:h,dropTargetKey:y,dropPosition:g,dragOverNodeKey:k,indent:K,direction:Y,dropIndicatorRender:W,loadData:U,filterTreeNode:G,titleRender:B,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},n.createElement("div",{role:"tree",className:t(m,E,z,(e={},o(e,"".concat(m,"-show-line"),C),o(e,"".concat(m,"-focused"),i),o(e,"".concat(m,"-active-focused"),null!==p),e)),style:V},n.createElement(ke,r({ref:this.listRef,prefixCls:m,style:x,data:s,disabled:R,selectable:w,checkable:!!A,motion:H,dragging:null!==l,height:F,itemHeight:_,virtual:j,focusable:D,focused:i,tabIndex:S,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:q,onScroll:X},this.getTreeNodeRequiredProps(),Q))))}}],[{key:"getDerivedStateFromProps",value:function(n,t){var r,a=t.prevProps,d={prevProps:n};function i(e){return!a&&e in n||a&&a[e]!==n[e]}var s=t.fieldNames;if(i("fieldNames")&&(s=$(n.fieldNames),d.fieldNames=s),i("treeData")?r=n.treeData:i("children")&&(e(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=J(n.children)),r){d.treeData=r;var l=ne(r,{fieldNames:s});d.keyEntities=c(o({},ue,ve),l.keyEntities)}var p,u=d.keyEntities||t.keyEntities;if(i("expandedKeys")||a&&i("autoExpandParent"))d.expandedKeys=n.autoExpandParent||!a&&n.defaultExpandParent?V(n.expandedKeys,u):n.expandedKeys;else if(!a&&n.defaultExpandAll){var f=c({},u);delete f[ue],d.expandedKeys=Object.keys(f).map((function(e){return f[e].key}))}else!a&&n.defaultExpandedKeys&&(d.expandedKeys=n.autoExpandParent||n.defaultExpandParent?V(n.defaultExpandedKeys,u):n.defaultExpandedKeys);if(d.expandedKeys||delete d.expandedKeys,r||d.expandedKeys){var v=ee(r||t.treeData,d.expandedKeys||t.expandedKeys,s);d.flattenNodes=v}if((n.selectable&&(i("selectedKeys")?d.selectedKeys=Y(n.selectedKeys,n):!a&&n.defaultSelectedKeys&&(d.selectedKeys=Y(n.defaultSelectedKeys,n))),n.checkable)&&(i("checkedKeys")?p=z(n.checkedKeys)||{}:!a&&n.defaultCheckedKeys?p=z(n.defaultCheckedKeys)||{}:r&&(p=z(n.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),p)){var h=p,y=h.checkedKeys,g=void 0===y?[]:y,k=h.halfCheckedKeys,K=void 0===k?[]:k;if(!n.checkStrictly){var N=L(g,!0,u);g=N.checkedKeys,K=N.halfCheckedKeys}d.checkedKeys=g,d.halfCheckedKeys=K}return i("loadedKeys")&&(d.loadedKeys=n.loadedKeys),d}}]),y}(n.Component);Ke.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,o=e.dropLevelOffset,r=e.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:a.top=0,a.left=-o*r;break;case 1:a.bottom=0,a.left=-o*r;break;case 0:a.bottom=0,a.left=r}return n.createElement("div",{style:a})},allowDrop:function(){return!0},expandAction:!1},Ke.TreeNode=G;var Ne=function(e,t){return n.createElement(N,c(c({},e),{},{ref:t,icon:m}))};Ne.displayName="CaretDownFilled";const me=n.forwardRef(Ne);var Ee=function(e,t){return n.createElement(N,c(c({},e),{},{ref:t,icon:E}))};Ee.displayName="FileOutlined";const xe=n.forwardRef(Ee);var Ce=function(e,t){return n.createElement(N,c(c({},e),{},{ref:t,icon:x}))};Ce.displayName="MinusSquareOutlined";const De=n.forwardRef(Ce);var be=function(e,t){return n.createElement(N,c(c({},e),{},{ref:t,icon:C}))};be.displayName="PlusSquareOutlined";const Se=n.forwardRef(be);function we(e,o,r,a){var d,i=a.isLeaf,s=a.expanded;if(a.loading)return n.createElement(D,{className:"".concat(e,"-switcher-loading-icon")});if(r&&"object"===f(r)&&(d=r.showLeafIcon),i){if(!r)return null;if("boolean"!=typeof d&&d){var c="function"==typeof d?d(a):d,l="".concat(e,"-switcher-line-custom-icon");return b(c)?S(c,{className:t(c.props.className||"",l)}):c}return d?n.createElement(xe,{className:"".concat(e,"-switcher-line-icon")}):n.createElement("span",{className:"".concat(e,"-switcher-leaf-line")})}var p="".concat(e,"-switcher-icon"),u="function"==typeof o?o(a):o;return b(u)?S(u,{className:t(u.props.className||"",p)}):u||(r?s?n.createElement(De,{className:"".concat(e,"-switcher-line-icon")}):n.createElement(Se,{className:"".concat(e,"-switcher-line-icon")}):n.createElement(me,{className:p}))}export{G as C,xe as F,Ke as T,L as a,F as b,ne as c,_ as d,V as e,J as f,we as r};
